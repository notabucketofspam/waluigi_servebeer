<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="/css/great-scott.css" />
<meta name="viewport" content="width=device-width, user-scalable=yes" charset="utf-8"/>
<title>waluigi-servebeer.com</title>
<style>
/** RANDOM STUFF */
body {
  background-color: #ffffff;
}
html {
  scrollbar-width: none;
}
footer{
  margin-bottom: 40px;
}
h2 {
  margin: 0px;
  font-weight: normal;
}
#creme {
  font-size: 2em;
  text-decoration-line: underline;
  font-family: monospace;
}
#burrfish_list {
margin:0px;
  padding-left:21px;
}
#burrfish_list > li::marker {
  content: "\1f421";
}
#about_this_site {
  text-align: center;
  text-decoration-line: underline;
  font-size: 21px;
  grid-area:span 2;
}
#login-stuffs {
  float:right;
  text-align: right;
}
h1 {
  font-size: 2.5em; text-align: left;
}
#easier-for-you-taunt {
  text-align:right;
  margin-left: 40px;
  width: fit-content;
}
#ctrl-f5 {
  cursor: default;
  user-select:none;
}
@media (max-width:5.5in){
  *[class*="wide"] {
    display:flex;
    flex-direction:column;
  }
}
#the_notice {
  background-color:#efeffa;
  border: ridge;
  padding:4px;
  margin:4px;
  max-width:fit-content;
}
</style>
</head>
<body>
<!-- WELCOME TO THE STEAK ZONE -->
<div id="fixed_top" class="top_right">
    <span class="steak_zone_text">Welcome to the
      <img src="/resource/steak.gif" alt="STEAK" class="steak_zone_image">
      zone
    </span>
</div>
<!-- WALUIGI-SERVEBEER.COM -->
<div class="big_section" id="title_bar">
  <div id="login-stuffs">
    Welcome back, <span id="username_maybe">[USERNAME]</span> !!<br>
    Not you? <a href="/page/login/real.html">Login here</a>
    <br>
    New user? <span class="fakelink" title="this is not a link">Give up</span>
  </div>
  <h1>waluigi-servebeer.com</h1>
</div>
<hr>
<!-- START THE PARTY -->
<section class="big_section" id="funk_jukebox_intel" style="overflow-x: visible;">
  <div id="pentium" class="fr">
    <a class="fake_advertisement" href="/page/intel/intel.html">
      <div class="f2">!!! NEW !!!</div>
      <img height="240" src="/page/intel/retro_intel.png">
      <div>Punch AMD in the mouth</div>
    </a>
  </div>
  <div id="outdexportal">
    <span id="outdextoptext">try the new</span>
    <br />
    <a href="/outdex.html" id="outdexbottomtext">outdex steakzone</a>
    <br />
    <input id="roboslider" value="0" type="range" oninput="if (this.value >99) location.assign(typeof startup_done !== 'undefined'?'/':'/outdex.html')" />
    <br />
    <code id="imnotarobot">I'm not a robot</code>
  </div>
  <div id="party-zone">
    <div id="funk_container" style="width: 200px; overflow-x: visible;">
      <input id="funk_button" type="button" value="Start the party"
             onclick="toggle_cycle_background(this)">
      <div class="div_pad_small"></div>
      <div class="funk_meter scrollable_meter" style="white-space: nowrap;"
           onwheel="update_cycle_amount(event, null)">
        <input class="funk_meter_button" type="button" value="&#60;">
        <span style="padding: 0px 12px">Funk level: <span id="funk_level">25</span>%</span>
        <input class="funk_meter_button" type="button" value="&#62;">
      </div>
      <div class="div_pad_small scrollable_meter" style="width: 200px;"
           onwheel="update_cycle_amount(event, null)"></div>
      <div class="scrollable_meter" onwheel="update_cycle_amount(event, null)">
        <div class="funk_meter_box" id="funk_meter_box_prime">
          <div class="funk_meter_bar" id="fmb_num_0"></div>
        </div>
      </div>
      <div id="funk_meter_box_bravo" style="z-index: 2; position: absolute; left: 0;"></div>
    </div>
    <div class="div_pad"></div>
    <div id="jukebox_container">
      <audio id="audio_player" hidden onended="jukebox_change_track(null)"></audio>
      <input id="audio_button" type="button" value="Insert mixtape" onclick="toggle_audio(this)">
      <div class="div_pad_small"></div>
      <div id="jukebox_track_selection">
        <input class="jukebox_track_button" type="button" value="&#60;" onclick="jukebox_change_track(this)">
        <span id="change_track">Change track</span>
        <input class="jukebox_track_button" type="button" value="&#62;" onclick="jukebox_change_track(this)">
      </div>
      <div class="div_pad_small"></div>
      <div id="jukebox_which_track">
        <span class="scrollable_meter" id="jukebox_current_track" onwheel="update_jukebox_volume(event)"></span>
      </div>
      <div class="div_pad_small scrollable_meter" id="singular_jukebox_divider"
           onwheel="update_jukebox_volume(event)"></div>
      <div id="jukebox_volume_element" class="scrollable_meter" onwheel="update_jukebox_volume(event)">
        <div id="jukebox_volume_box">
          <div id="jukebox_volume_bar"></div>
        </div>
      </div>
    </div>
    <div class="div_pad_small"></div>
    <span style="font-size: 85%;">(the scroll wheel is your friend)</span>
  </div>
</section>
<!-- ABOUT THIS WEBSITE -->
<section>
  <h2 id="about_this_site" style="grid-area:span 2">About this website</h2>
  <div class="wide2">
    <div class="half_right hdd">
    <p>Important! If the page isn't working correctly then you gotta clear the 
      Javascript / CSS cache</p>        
      <ul>
        <li>Smash that <b>F12</b> button</li>
        <li>Head over to the Network tab</li>
        <li>Tick the little &#x1f171;&NoBreak;&#x1F1F4;&NoBreak;&#x1F1FD; that says "Disable cache"</li>
        <li>Gently press F5, making sure to not startle it</li>
      </ul>
      <p id="easier-for-you-taunt">
        you can also just hit <span id="ctrl-f5"><kbd>ctrl</kbd>+<kbd>F5</kbd></span>, <br />if that's easier for you :-)
      </p>
    </div>
    <div class="o-1 cd-rom">
      <p>
        This is where we put the high-quality content. Members of the Bar Stool 
        Committee and its associate organizations generate JPEGS, viddles, and 
        walls of text in various forms for the purpose of comedic enrichment. 
        Welcome to Meme Hell.
      </p>
      <p>
        <b>Important Note</b>: the (fake) advertisements on the sides of this page are <em>clickable</em> and
        will lead you to <em>other</em> meme pages. This was not initially clear to <em>some</em> users.
      </p>     
    </div>          
  </div>
</section>
<!-- SOME STUFF IDK -->
<section class="wide121">
  <div class="column_left">
    <div>
      <b>UPDATE:</b> a thorough analysis of <i>meat</i> has been posted.
      <br>
      You know where to find it ;)
    </div>
    <p id="the_notice">
      <b>NOTICE:</b> <i>don't</i> disable the browser cache (see right).
      <br>
      <u>This is <i>the</i> notice.</u>
    </p>
  </div>
  <div class="column_center">
    This site probably <del>doesn't work</del> <ins>looks and feels immaculate</ins>
    on mobile so like <del>sorry about that</del> <ins>you're welcome</ins>. In
    sooth it's primarily a testing ground for silly web development
    shenanigans. Things are bound to break on a regular basis. Honestly just
    disable the browser cache (see above) until a notice is posted somewhere.
    <br>
    <sub>Please, no johns.</sub>
  </div>
  <div>
    <u>Technical pages:</u>
      <ul id="burrfish_list">
        <li>
          <a href="/page/changelog/changelog.html">Changelog</a>
        </li>
        <li>
          <a href="/page/legal/disclaimer.html">Legal disclaimer</a>
        </li>
        <li>
          <a href="/page/smash-mouth/smash-mouth.html">Smash Mouth Lorem Ipsum</a>
        </li>
        <li>
          <a href="/page/sitemap/sitemap.html">Sitemap</a>
        </li>
        <li>
          <a class="no_u" href="/page/sonic/gotta-go-fast.html">
            <u>WAY PAST COOL</u><sup>&#8482;</sup>
          </a>
        </li>
      </ul>
  </div>
</section>
<!-- COAL ETC -->
<section class="wide2">
  <div class="coalex">
      <a class="fake_advertisement" href="/page/food-time/food.html">
        <div class="f2">Tired of normal Food Time?</div>
        <img height="220" src="/page/food-time/retro_coal.png" style="padding:10px 0px;">
        <div class="f3">Try our tasty New Coal!</div>
      </a>
  </div>
  <div class="coalex">
    <h2 id="creme">Cr&#232;me de la Cr&#232;me</h2>
      <a class="clickbait-article" href="/page/what-is/is.html">
        What "is" is &ndash; precedence and outlook
      </a>
      <a class="clickbait-article" href="/page/scoot-the-burbs/scoot-the-burbs.html">
        Scoot the Burbs: a lyrical analysis
      </a>
      <a class="clickbait-article" style="display: flex;" href="/page/meat-substrate/meat.html">
        <div style="width: min-content; text-align: center;">Click here <b>to</b> learn about <i>meat</i></div>
        <img height="130" src="/page/meat-substrate/retro_steak.png">
      </a>
  </div>
</section>
<script src="/js/everything.js"></script>
<script>
if(typeof pentium === 'undefined')
  funk_jukebox_intel.insertAdjacentHTML('beforeBegin', '<div id="pentium" class="fr"><a class="fake_advertisement" href="/page/intel/intel.html"><div class="f2">!!! NEW !!!</div><img height="240" src="/page/intel/retro_intel.png"><div>Punch AMD in the mouth</div></a></div>');
if (sessionStorage.getItem("username"))
  username_maybe.innerText = sessionStorage.getItem("username");

if (typeof startup_done !== "undefined") {
  outdextoptext.innerText = "leave the new";
  imnotarobot.innerText = "i'm not a human";
}
  var full_doc_html = document.documentElement;
  function lock_element_position(element) {
    element.style.left = String(element.getBoundingClientRect().x + "px");
    element.style.top = String(element.getBoundingClientRect().y + "px");
    element.style.position = "absolute";
  }
  
  // Funk and jukebox sector
  var global_frametime = 1000 / 60;
  var global_cycle_units = 10;
  var global_funk_meter_bar_units = 2;
  var global_cycle_amount = global_cycle_units * parseInt(document.getElementById("funk_level").innerHTML);
  var global_page_hue = 0;
  var global_page_hue_reverse = 65535;
  var global_cycle_background_handle;
  var global_update_cycle_amount_press_handle;

  var funk_meter_button_list = document.getElementsByClassName("funk_meter_button");
  var fmbl_counter;
  for (fmbl_counter = 0; fmbl_counter < funk_meter_button_list.length; ++fmbl_counter) {
    funk_meter_button_list[fmbl_counter].addEventListener("mousedown", update_cycle_amount_press);
    funk_meter_button_list[fmbl_counter].addEventListener("mouseup", update_cycle_amount_press);
    funk_meter_button_list[fmbl_counter].addEventListener("touchstart", update_cycle_amount_press);
    funk_meter_button_list[fmbl_counter].addEventListener("touchend", update_cycle_amount_press);
  }

    function cycle_background() {
    if (global_cycle_amount >= 0) {
      global_page_hue += global_cycle_amount;
      if (global_page_hue >= 65536)
        global_page_hue = 0;
      document.body.style.backgroundColor = rainbow_rgb(global_page_hue, 255, 255);
    } else {
      global_page_hue_reverse += global_cycle_amount;
      if (global_page_hue_reverse <= 0)
        global_page_hue_reverse = 65535;
      document.body.style.backgroundColor = rainbow_rgb(global_page_hue_reverse, 255, 255);
    }
  }
  function toggle_cycle_background(element) {
    element.classList.toggle("active");
    if (element.classList.contains("active")) {
      element.setAttribute("value", "Stop it's too much");
      global_cycle_background_handle = setInterval(cycle_background, global_frametime);
    } else {
      element.setAttribute("value", "Start the party");
      clearInterval(global_cycle_background_handle);
      document.body.style.backgroundColor = "";
    }
  }
  function update_cycle_amount(event, element) {
    var gca_initial = global_cycle_amount;
    if (event)
      global_cycle_amount += (event.deltaY < 0) ? (global_cycle_units) : (-1 * global_cycle_units);
    if (element)
      global_cycle_amount += (element.getAttribute("value") === ">") ? 
        (global_cycle_units) : (-1 * global_cycle_units);
    document.getElementById("funk_level").innerHTML = (global_cycle_amount / global_cycle_units);
    update_funk_meter_bar(document.getElementsByClassName("funk_meter_bar")
      [document.getElementsByClassName('funk_meter_bar').length - 1], 
      (global_cycle_amount - gca_initial));
  }
  function update_funk_meter_bar(element, delta) {
    var funk_meter_bar_width_total = global_funk_meter_bar_units * global_cycle_amount / global_cycle_units;
    if (update_funk_meter_bar.negative == "undefined")
      update_funk_meter_bar.negative = false;
    var clock = (!global_cycle_amount && (delta > 0 || delta < 0));
    if (clock && (delta > 0)) {
      update_funk_meter_bar.negative = false;
      element.style.backgroundColor = "#22bb22";
    }
    if (clock && (delta < 0)) {
      update_funk_meter_bar.negative = true;
      element.style.backgroundColor = "#bb2222";
    }
    if (update_funk_meter_bar.negative)
      funk_meter_bar_width_total *= -1;
    var fmbw_overflow = funk_meter_bar_width_total % window.innerWidth;
    if (!(fmbw_overflow) && (document.getElementsByClassName("funk_meter_bar").length != 1) && 
      (element.style.width == "2px")) {
        element.parentNode.removeChild(element);
        return;
    }
    if (!(fmbw_overflow) && (global_cycle_amount != 0)) {
        spawn_funk_meter_bar(element);
        return;
    }
    element.style.width = ((fmbw_overflow) + "px");
  }
  function update_cycle_amount_press(event) {
    if (event.type == "mousedown" || event.type == "touchstart")
      global_update_cycle_amount_press_handle = setInterval(update_cycle_amount, (1000 / 20), null, this);
    else if (event.type == "mouseup" || event.type == "touchend")
      clearInterval(global_update_cycle_amount_press_handle);
  }
  function spawn_funk_meter_bar(element) {
    var new_fmb = document.createElement("DIV");
    var new_fmb_attr_class = document.createAttribute("class");
    new_fmb_attr_class.value = "funk_meter_bar";
    new_fmb.setAttributeNode(new_fmb_attr_class);
    var new_fmb_attr_id = document.createAttribute("id");
    new_fmb_attr_id.value = 
      ("fmb_num_" + (document.getElementsByClassName("funk_meter_bar").length));
    new_fmb.setAttributeNode(new_fmb_attr_id);
    var new_fmb_attr_style = document.createAttribute("style");
    new_fmb_attr_style.value = ("margin: 4px 0px; width: 0px;" + 
      "background-color: "+ (element.style.backgroundColor + ";"));
    new_fmb.setAttributeNode(new_fmb_attr_style);
    document.getElementById("funk_meter_box_bravo").appendChild(new_fmb);
  }

  var jukebox_track_list = [
    "Adhesive Wombat - Chodge Darger.mp3",
    "Jellyfish Jam.mp3",
    "Linkin Park - Numb (80's Remix).mp3",
    "Maurizio De Jorio - Running in the 90's.mp3",
    "Mile High Club (JC2).mp3",
    "Noma - Brain Power.mp3",
    "\u307F\u304D\u3068P - 39\u307F\u3085\u30FC\u3058\u3063\u304F! feat. \u521D\u97F3\u30DF\u30AF.mp3",
  ];
  var global_jukebox_track_list_position = 0;
  var global_jukebox_volume_bar_units = 2;

  //jukebox_track_list.sort();
  jukebox_current_track.innerHTML = jukebox_track_list[0];
  audio_player.src = "/resource/jukebox-tracks/" + jukebox_track_list[0];
  audio_player.volume = 0.17;
  
  jukebox_volume_element.addEventListener("touchstart", touch_start_coord, false);
  jukebox_volume_element.addEventListener("touchmove", update_jukebox_volume, false);
  jukebox_current_track.addEventListener("touchstart", touch_start_coord, false);
  jukebox_current_track.addEventListener("touchmove", update_jukebox_volume, false);
  singular_jukebox_divider.addEventListener("touchstart", touch_start_coord, false);
  singular_jukebox_divider.addEventListener("touchmove", update_jukebox_volume, false);

  var touch_start = [ 0, 0 ];
  function touch_start_coord(event) {
    touch_start[0] = event.touches[0].pageX;
    touch_start[1] = event.touches[0].pageY;
  }

  function toggle_audio(element) {
    element.classList.toggle("active");
    if (element.classList.contains("active")) {
      element.setAttribute("value", "Get it outta here");
      document.getElementById("audio_player").play();
    } else {
      element.setAttribute("value", "Insert mixtape");
      document.getElementById("audio_player").pause();
    }
  }
  function jukebox_change_track(element) {
    if (element === null || element.getAttribute("value") === ">") {
      ++global_jukebox_track_list_position;
      if (global_jukebox_track_list_position == jukebox_track_list.length)
        global_jukebox_track_list_position = 0;
    } else {
      --global_jukebox_track_list_position;
      if (global_jukebox_track_list_position < 0)
        global_jukebox_track_list_position = jukebox_track_list.length - 1;
    }
    jukebox_current_track.innerHTML = 
      jukebox_track_list[global_jukebox_track_list_position];
    audio_player.setAttribute("src", 
      "/resource/jukebox-tracks/" + jukebox_track_list[global_jukebox_track_list_position]);
    audio_player.load();
    if (audio_button.classList.contains("active"))
      audio_player.play();
    else
      audio_player.pause();
  }
  function update_jukebox_volume(event) {
    var new_volume = audio_player.volume;
    if (event.type === "wheel")
      new_volume += (event.deltaY < 0) ? 0.01 : -0.01;
    else {
      new_volume += 0.1 * (event.touches[0].pageX - touch_start[0]) / document.body.getBoundingClientRect().width;
    }
    if (new_volume < 0.0)
      new_volume = 0.0;
    else if (new_volume > 1.0)
      new_volume = 1.0;
    audio_player.volume = new_volume;
    jukebox_volume_bar.style.width = (audio_player.volume * 200)+"px";
  }

  var scrollable_meter_list = document.getElementsByClassName("scrollable_meter");
  var sml_counter;
  for (sml_counter = 0; sml_counter < scrollable_meter_list.length; ++sml_counter) {
    scrollable_meter_list[sml_counter].addEventListener("mouseover", stop_scrolling_y);
    scrollable_meter_list[sml_counter].addEventListener("mouseout", start_scrolling_y);
  }
  function stop_scrolling_y(event) {
    full_doc_html.style.height = "100%";
    full_doc_html.style.overflowY = "hidden";
  }
  function start_scrolling_y(event) {
    full_doc_html.style.height = "auto";
    full_doc_html.style.overflowY = "scroll";
  }
  // Functions stolen from Adafruit_NeoPixel
  function rainbow_rgb(set_hue, set_sat, set_val) {
    var new_red =   (0xFF0000 & (color_hsv(set_hue, set_sat, set_val))) >>> 16;
    var new_green = (0x00FF00 & (color_hsv(set_hue, set_sat, set_val))) >>>  8;
    var new_blue =  (0x0000FF & (color_hsv(set_hue, set_sat, set_val))) >>>  0;
    return "rgb(" + new_red + "," + new_green + "," + new_blue + ")";
  }
  function color_hsv(hue, sat, val) {
    var r = (1 >>> 1), g = (1 >>> 1), b = (1 >>> 1);
    hue = (hue * 1530 + 32768) / 65536;
    if(hue < 510) {
      b = 0;
      if(hue < 255) {
        r = 255;
        g = hue;
      } else {
        r = 510 - hue;
        g = 255;
      }
    } else if(hue < 1020) {
      r = 0;
      if(hue <  765) {
        g = 255;
        b = hue - 510;
      } else {
        g = 1020 - hue;
        b = 255;
      }
    } else if(hue < 1530) {
      g = 0;
      if(hue < 1275) {
        r = hue - 1020;
        b = 255;
      } else {
        r = 255;
        b = 1530 - hue;
      }
    } else {
      r = 255;
      g = b = 0;
    }
    var v1 =   1 + val;
    var s1 =   1 + sat;
    var s2 = 255 - sat;
    return ((((((r * s1) >>> 8) + s2) * v1) & 0xff00) << 8) |
            (((((g * s1) >>> 8) + s2) * v1) & 0xff00)       |
            ( ((((b * s1) >>> 8) + s2) * v1)           >> 8);
  }
</script>
<div id="jug">
    <div id="jar"></div>
    <button id="aight" onclick="realhideme()">aight</button>
    <button id="nah" onclick="hideme()">nah</button>
  </div>
  <script>
    /**@type number[]*/
    var used = JSON.parse(localStorage.getItem('used')) ?? [];
    /**@type string[]*/
    var memes;
    fetch("/resource/pseudo-cookies.txt")
      .then(res => res.text())
      .then(text => {
        memes = text.split(/(?:\r\n\r\n)|(?:\r\r)|(?:\n\n)/);
        pulljar();
      }
      );
    var jar = document.getElementById('jar');
    function pulljar () {
      if (used.length === memes.length - 1) {
        used.splice(0, 1+rui(used.length));
      }
      var n;
      var c = 0;
      do {
        n = rui(memes.length);
        ++c;
      } while (used.includes(n));
      used.push(n);
      localStorage.setItem('used', JSON.stringify(used));
      jar.innerHTML = memes.at(n);
    }
    function setjar(n) {
      jar.innerHTML = memes.at(n);
    }
    function hideme () {
      jug.hidden = true;
      setTimeout(() => {
        jug.hidden = false;
        pulljar();
      }, 3000);
    }
    function realhideme() {
    jug.hidden = true;
    }
  </script>
</body>
</html>
